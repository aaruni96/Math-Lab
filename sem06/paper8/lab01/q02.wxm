kill(all)$
w:log(x^2+y^2)/2+%i*tan(y/x)$
u:realpart(w)$
v:imagpart(w)$
if ratsimp(diff(u,x))=ratsimp(diff(v,y)) and ratsimp(diff(u,y))=-ratsimp(diff(v,x)) then
	disp("Analytic")
else
	disp("Not analytic")$
